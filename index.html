<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Commerce Product Catalog</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .product-card {
            transition: transform 0.3s;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .cart-item {
            border-bottom: 1px solid #eee;
            padding: 10px 0;
        }
        #cart-sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            transition: right 0.3s;
            z-index: 1050;
            padding: 20px;
            overflow-y: auto;
        }
        #cart-sidebar.active {
            right: 0;
        }
        .price-range {
            width: 100%;
        }
        .category-filter {
            cursor: pointer;
        }
        .category-filter:hover {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#">TechShop</a>
            <button class="btn btn-outline-primary" id="cart-toggle">
                Cart <span class="badge bg-primary" id="cart-count">0</span>
            </button>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row">
            <!-- Filters Sidebar -->
            <div class="col-md-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Filters</h5>
                        <div class="mb-3">
                            <label class="form-label">Price Range: <span id="price-value">$1000</span></label>
                            <input type="range" class="price-range" min="0" max="2000" value="1000" id="price-filter">
                        </div>
                        <div class="mb-3">
                            <h6>Categories</h6>
                            <div class="category-filter p-2" data-category="all">All</div>
                            <div class="category-filter p-2" data-category="laptop">Laptops</div>
                            <div class="category-filter p-2" data-category="phone">Phones</div>
                            <div class="category-filter p-2" data-category="accessory">Accessories</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Grid -->
            <div class="col-md-9">
                <div class="row" id="product-grid"></div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar">
        <h4>Shopping Cart</h4>
        <div id="cart-items"></div>
        <div class="mt-3">
            <h5>Total: $<span id="cart-total">0</span></h5>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal fade" id="productModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script>
        // Product data
        
        const products = [
    {
        id: 1,
        name: "MacBook Pro",
        category: "laptop",
        price: 1299,
        description: "Latest MacBook Pro with M1 chip",
        image: "https://images.unsplash.com/photo-1651761648226-333ab304b2cc?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fE1hY2Jvb2slMjBwcm98ZW58MHx8MHx8fDA%3D",
        details: "13-inch Retina display, 8-core CPU, 16GB RAM"
    },
    {
        id: 2,
        name: "iPhone 13",
        category: "phone",
        price: 799,
        description: "Latest iPhone with A15 Bionic",
        image: "https://images.unsplash.com/photo-1636108840454-8fbe394c7837?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
        details: "6.1-inch Super Retina XDR display, 5G capable"
    },
    {
        id: 3,
        name: "AirPods Pro",
        category: "accessory",
        price: 249,
        description: "Wireless earbuds with noise cancellation",
        image: "https://images.unsplash.com/photo-1675317132583-75301c0d0287?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8QWlyJTIwcG9kcyUyMHByb3xlbnwwfHwwfHx8MA%3D%3D",
        details: "Active Noise Cancellation, Transparency mode"
    },
    {
        id: 4,
        name: "Dell XPS 13",
        category: "laptop",
        price: 999,
        description: "Premium ultrabook with InfinityEdge display",
        image: "https://images.unsplash.com/photo-1484788984921-03950022c9ef?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bGFwdG9wfGVufDB8fDB8fHww",
        details: "13.4-inch 4K display, Intel Core i7, 16GB RAM"
    }
];


        let cart = [];

        // Initialize product grid
        function renderProducts(filteredProducts = products) {
            const grid = $('#product-grid');
            grid.empty();
            
            filteredProducts.forEach(product => {
                const card = `
                    <div class="col-md-4 mb-4">
                        <div class="card product-card">
                            <img src="${product.image}" class="card-img-top" alt="${product.name}">
                            <div class="card-body">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text">${product.description}</p>
                                <p class="card-text"><strong>$${product.price}</strong></p>
                                <button class="btn btn-primary add-to-cart" data-id="${product.id}">Add to Cart</button>
                                <button class="btn btn-outline-secondary view-details" data-id="${product.id}">View Details</button>
                            </div>
                        </div>
                    </div>
                `;
                grid.append(card);
            });
        }

        // Cart functionality
        function updateCart() {
            const cartItems = $('#cart-items');
            cartItems.empty();
            let total = 0;

            cart.forEach(item => {
                const product = products.find(p => p.id === item.id);
                total += product.price * item.quantity;
                
                const cartItem = `
                    <div class="cart-item" data-id="${item.id}">
                        <div class="d-flex justify-content-between">
                            <div>
                                <h6>${product.name}</h6>
                                <p>$${product.price} x ${item.quantity}</p>
                            </div>
                            <button class="btn btn-sm btn-danger remove-from-cart">Remove</button>
                        </div>
                    </div>
                `;
                cartItems.append(cartItem);
            });

            $('#cart-total').text(total);
            $('#cart-count').text(cart.reduce((sum, item) => sum + item.quantity, 0));
        }

        // Event Listeners
        $(document).ready(function() {
            renderProducts();

            // Add to cart
            $(document).on('click', '.add-to-cart', function() {
                const productId = $(this).data('id');
                const cartItem = cart.find(item => item.id === productId);
                
                if (cartItem) {
                    cartItem.quantity++;
                } else {
                    cart.push({ id: productId, quantity: 1 });
                }
                
                const button = $(this);
                button.prop('disabled', true)
                    .text('Added!')
                    .fadeOut(500)
                    .fadeIn(500, function() {
                        button.prop('disabled', false).text('Add to Cart');
                    });
                
                updateCart();
            });

            // Remove from cart
            $(document).on('click', '.remove-from-cart', function() {
                const itemId = $(this).closest('.cart-item').data('id');
                const itemIndex = cart.findIndex(item => item.id === itemId);
                
                if (itemIndex > -1) {
                    $(this).closest('.cart-item').fadeOut(300, function() {
                        cart.splice(itemIndex, 1);
                        updateCart();
                    });
                }
            });

            // View details
            $(document).on('click', '.view-details', function() {
                const productId = $(this).data('id');
                const product = products.find(p => p.id === productId);
                
                const modal = $('#productModal');
                modal.find('.modal-title').text(product.name);
                modal.find('.modal-body').html(`
                    <div class="row">
                        <div class="col-md-6">
                            <img src="${product.image}" class="img-fluid" alt="${product.name}">
                        </div>
                        <div class="col-md-6">
                            <h5>$${product.price}</h5>
                            <p>${product.details}</p>
                            <button class="btn btn-primary add-to-cart" data-id="${product.id}">Add to Cart</button>
                        </div>
                    </div>
                `);
                
                const modalInstance = new bootstrap.Modal(modal);
                modalInstance.show();
            });

            // Toggle cart sidebar
            $('#cart-toggle').click(function() {
                $('#cart-sidebar').toggleClass('active');
            });

            // Price filter
            $('#price-filter').on('input', function() {
                const maxPrice = $(this).val();
                $('#price-value').text('$' + maxPrice);
                
                const filteredProducts = products.filter(product => product.price <= maxPrice);
                renderProducts(filteredProducts);
            });

            // Category filter
            $('.category-filter').click(function() {
                const category = $(this).data('category');
                $('.category-filter').removeClass('bg-primary text-white');
                $(this).addClass('bg-primary text-white');
                
                const filteredProducts = category === 'all' 
                    ? products 
                    : products.filter(product => product.category === category);
                
                $('#product-grid').fadeOut(300, function() {
                    renderProducts(filteredProducts);
                    $(this).fadeIn(300);
                });
            });
        });
    </script>
</body>
</html>